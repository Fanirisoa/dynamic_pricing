#####################################################
###    Load both data.contract and data.ret   #######
#####################################################
load("DataPrice20092010.Rdata")

#####################################################
###                 Data set                  #######
#####################################################
#Data.N=Data.N2

Data.N=Data.N2[-c(506,1462,1638,1645),]

#####################################################
###         Parameters of the model           #######
#####################################################
##a0=para_h[1]; a1=para_h[2]; a2=para_h[3];  b1= para_h[4] ;  lamda0= para_h[5] 

###   Initial parameter  ####
## para_h<-c(6.094e-07, 1.240e-01, 2.314e-02, 8.504e-01, 6.025e-02)  ## RMSE2$rmse : 0.1451813  RMSE3$rmse : 0.05582874

## para_h<-c(6.094e-11, 1.240e-01, 2.314e-02, 4.011e-01, 3.025e-02)  ## RMSE1$rmse : 0.06668887  RMSE3$rmse : 0.07391531

## para_h<-c(6.094e-11, 1.240e-01, 2.314e-02, 4.011e-01, 2.025e-02)  ## RMSE1$rmse : 0.06295168  RMSE3$rmse : 0.08068807



## para_h<-c(5.987174e-08,  1.240911e-01,  2.314265e-02,  8.504269e-01,  3.784983e-02)

## para_h<-c(6.094e-11, 1.240e-01, 2.314e-02, 4.011e-01, 3.025e-02)  ## RMSE1$rmse : 0.06295168  RMSE3$rmse : 0.05582874

para_h <-c(1.445949e-05,  3.107684e-01,  1.055816e-01,  6.311811e-01,  4.208730e-03)


change_para <- function(para_h_int) {
  a0=para_h_int[1]; a1=para_h_int[2]; a2=para_h_int[3];  b1= para_h_int[4] ;  lamda0= para_h_int[5] 
  h0=(a0 )/(1 - b1 - a1- a2/2) 
  lamda1 = (lamda0/sqrt(h0))-(1/2)
  return(c(a0, a1, a2,  b1,  lamda1))  
}

para_h<-change_para(para_h)








